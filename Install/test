#!/bin/sh

#I/O part :

read -p "Enter drive you want it to be installed on (only a if on /dev/sda): " -a X
read -p "Enter partionsize in gb, separated by a space (swap & /): " -a SIZE



#Functionnal part :



export "DIST=$(./detect_distrib)$" #once installation done write this to /etc/environment


internet()
{
	ping -c 2 www.example.com 2>&- 1>/dev/null || (echo "You're not connected to the internet. Check out your connection" && false)
}

partition(){
cat <<EOF | fdisk /dev/sd$X
o
n
p


+200M
n
p


+${SIZE[0]}G
n
p


+${SIZE[1]}G
n
p


a
1
w
EOF
|| (echo "The drive either doesn't exist or there is an issue with it" && false)
}


format(){
echo "hi"
}


remove_all(){
echo "An error has occured. Fix the issue and rerun this script."
}



internet && partition && format || remove_all


